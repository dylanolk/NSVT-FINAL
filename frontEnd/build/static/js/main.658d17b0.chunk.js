(this["webpackJsonpnyquist-shannon"]=this["webpackJsonpnyquist-shannon"]||[]).push([[0],{121:function(t,e){function a(t){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}a.keys=function(){return[]},a.resolve=a,t.exports=a,a.id=121},122:function(t,e){},178:function(t,e,a){},179:function(t,e,a){},181:function(t,e,a){},182:function(t,e,a){},200:function(t,e){},201:function(t,e){},202:function(t,e){},203:function(t,e){},204:function(t,e){},205:function(t,e){},508:function(t,e,a){},511:function(t,e,a){},532:function(t,e,a){},539:function(t,e,a){"use strict";a.r(e);var s=a(2),n=a.n(s),i=a(32),c=a.n(i),o=a(51),r=a.n(o),l=a(80),h=a(3),d=a(4),u=a(15),j=a(8),b=a(7),p=(a(178),a(179),a(1));var v=function(){return Object(p.jsxs)("nav",{class:"navbar navbar-expand-lg navbar-light bg-dark",children:[Object(p.jsx)("a",{class:"navbar-brand",href:"/",children:Object(p.jsx)("p",{children:"Nyquist Shannon Theorem Visualizer"})}),Object(p.jsxs)("button",{class:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation",children:["/",Object(p.jsx)("span",{class:"navbar-toggler-icon"})]}),Object(p.jsx)("div",{class:"collapse navbar-collapse",id:"navbarNav",children:Object(p.jsxs)("ul",{class:"navbar-nav",children:[Object(p.jsx)("li",{class:"nav-item active",children:Object(p.jsx)("a",{class:"nav-link",href:"/about",children:Object(p.jsxs)("p",{children:["About The Theorem ",Object(p.jsx)("span",{class:"sr-only",children:"(current)"})]})})}),Object(p.jsx)("li",{class:"nav-item",children:Object(p.jsx)("a",{class:"nav-link",href:"/wavlibrary",children:Object(p.jsx)("p",{children:"Wav Library"})})})]})})]})},O=(a(181),a(182),function(t){var e=t.title,a=t.handleSubmission;return Object(p.jsx)("button",{class:"sub-button",onClick:a,children:e})}),f=a(65),g=a.n(f);g.a.defaults.headers.common["Access-Control-Allow-Origin"]="*";var x=function(t){Object(j.a)(a,t);var e=Object(b.a)(a);function a(t){var s;return Object(h.a)(this,a),(s=e.call(this,t)).state={selectedFile:"",isFilePicked:!1},s.postSelectedFile=s.postSelectedFile.bind(Object(u.a)(s)),s.changeHandler=s.changeHandler.bind(Object(u.a)(s)),s}return Object(d.a)(a,[{key:"changeHandler",value:function(t){this.setState({selectedFile:t.target.files[0]}),this.setState({isFilePicked:!0}),console.log(t.target.files[0])}},{key:"postSelectedFile",value:function(){var t=Object(l.a)(r.a.mark((function t(e){var a,s,n=this;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(a=new FormData).append("file",e),s=[],t.next=5,g.a.post("http://127.0.0.1:5000/process",a).then((function(t){return console.log("this is response",t),n.props.changeAudio(t.data.audio_in.substring(2,t.data.audio_in.length-1),t.data.audio_out.substring(2,t.data.audio_out.length-1)),console.log("comparison",t.data.audio_out.substring(2,t.data.audio_out.length-1)),t})).then((function(t){s=JSON.parse(t.data.data)}));case 5:this.props.changeArrays(s),this.setState({isFilePicked:!1});case 7:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"render",value:function(){var t=this;return Object(p.jsx)("div",{class:"cards",children:Object(p.jsxs)("div",{children:[Object(p.jsx)("h5",{children:"Select File:"}),Object(p.jsx)("p",{children:"Choose the sound file you want to run through the visualizer."}),this.state.isFilePicked?Object(p.jsx)(O,{title:"Convert File",handleSubmission:function(){return t.postSelectedFile(t.state.selectedFile)}}):Object(p.jsx)("input",{type:"file",name:"file",onChange:this.changeHandler})]})})}}]),a}(n.a.Component),y=x,A=(a(120),function(t){Object(j.a)(a,t);var e=Object(b.a)(a);function a(t){var s;return Object(h.a)(this,a),(s=e.call(this,t)).state={ARR_NUM:0,MOUSE_POS:0,SCALE_FACTOR:1,DISPLAY_TRANSFORM:3,DISPLAY_ORIGINAL:1,checked1:!0,checked2:!0,SHIFT:0},s.getMax=s.getMax.bind(Object(u.a)(s)),s.display=s.display.bind(Object(u.a)(s)),s.wheelZoom=s.wheelZoom.bind(Object(u.a)(s)),s.mouseMove=s.mouseMove.bind(Object(u.a)(s)),s.displayTransform=s.displayTransform.bind(Object(u.a)(s)),s.displayOriginal=s.displayOriginal.bind(Object(u.a)(s)),s}return Object(d.a)(a,[{key:"getMax",value:function(t,e,a){for(var s=[t,0,0],n=0;n<this.state.SCALE_FACTOR;n++)s[0]=t,a[e][this.state.ARR_NUM][t]>s[1]?s[1]=a[e][this.state.ARR_NUM][t]:a[e][this.state.ARR_NUM][t]<s[2]&&(s[2]=a[e][this.state.ARR_NUM][t]),t++;return s}},{key:"display",value:function(){var t=this.refs.canvas.getContext("2d"),e=this.props.data,a=this.state.SCALE_FACTOR;if(t.canvas.width=1920,t.moveTo(0,250),t.lineTo(1920,250),t.stroke(),console.log(this.props.data),0!=this.props.data.length&&this.props.data)for(var s=this.state.DISPLAY_ORIGINAL;s<this.state.DISPLAY_TRANSFORM;s++){var n=1;2==s&&(n=this.props.data[3]);var i=0;t.beginPath();for(var c=0,o=Math.floor(this.state.SHIFT/Math.pow(10,this.state.ARR_NUM)/n);o<e[s][this.state.ARR_NUM].length&&!(c>=1920);o++){if(a>1){var r=this.getMax(o,s,e);t.moveTo(Math.floor(i*n),(0-r[2])/e[0][0]+250),t.lineTo(Math.floor(i*n),(0-r[1])/e[0][0]+250)}else if(a<0){t.moveTo(i*Math.abs(a)*n,250),t.lineTo(i*Math.abs(a)*n,0-e[s][this.state.ARR_NUM][o]/e[0][0][0]+250);r=[o,0,0]}else{t.moveTo(i*n,250),t.lineTo(i*n,0-e[s][this.state.ARR_NUM][o]/e[0][0][0]+250);r=[o,0,0]}c++,i+=1,o=r[0]}t.strokeStyle=["red","green","blue"][s],t.stroke(),t.closePath()}}},{key:"wheelZoom",value:function(t){t.preventDefault(),console.log(t.deltaY),t.ctrlKey?(this.state.SCALE_FACTOR=this.state.SCALE_FACTOR+=Math.floor(t.deltaY/Math.abs(t.deltaY)),this.state.SCALE_FACTOR>19&&this.state.ARR_NUM<this.props.data.length?(this.state.SCALE_FACTOR=2,this.state.ARR_NUM++):this.state.SCALE_FACTOR<=1&&this.state.ARR_NUM>=1&&(this.state.SCALE_FACTOR=19,this.state.ARR_NUM--),console.log(this.state.SCALE_FACTOR,this.state.ARR_NUM)):this.state.SHIFT+=500*Math.floor(t.deltaY/Math.abs(t.deltaY)),this.display()}},{key:"mouseMove",value:function(t){var e=this.refs.canvas.getBoundingClientRect();this.state.MOUSE_POS=Math.round(t.clientX-e.left)}},{key:"componentDidMount",value:function(){var t=this.refs.canvas,e=t.getContext("2d");e.clearRect(0,0,t.width,t.height),t.addEventListener("wheel",this.wheelZoom),t.addEventListener("mousemove",this.mouseMove),e.fillStyle="white",e.fillRect(0,0,t.width,t.height),e.moveTo(0,250),e.lineTo(1920,250),e.stroke()}},{key:"componentDidUpdate",value:function(){console.log("update");var t=this.refs.canvas;t.getContext("2d").clearRect(0,0,t.width,t.height),this.props.data.length>0&&this.display()}},{key:"displayTransform",value:function(t){t.target.checked?this.setState({DISPLAY_TRANSFORM:3}):this.setState({DISPLAY_TRANSFORM:2}),this.display(),this.setState({checked1:t.target.checked})}},{key:"displayOriginal",value:function(t){t.target.checked?this.setState({DISPLAY_ORIGINAL:1}):this.setState({DISPLAY_ORIGINAL:2}),this.display(),this.setState({checked2:t.target.checked})}},{key:"render",value:function(){console.log("rendered");return Object(p.jsxs)("div",{children:[Object(p.jsx)("canvas",{ref:"canvas",width:1920,height:500,style:{border:"1px solid black"}}),Object(p.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(p.jsx)("input",{type:"checkbox",checked:this.state.checked1,onChange:this.displayTransform}),"Display Downsampled Waveform",Object(p.jsx)("input",{type:"checkbox",checked:this.state.checked2,onChange:this.displayOriginal}),"Display Original Waveform"]})]})}}]),a}(n.a.Component)),m=(a(206),a(508),function(t){Object(j.a)(a,t);var e=Object(b.a)(a);function a(t){var s;return Object(h.a)(this,a),(s=e.call(this,t)).state={file:"",value:""},s.handleChange=s.handleChange.bind(Object(u.a)(s)),s}return Object(d.a)(a,[{key:"handleChange",value:function(t){this.props.changeArrays(JSON.parse(this.props.defaults[t.target.value].data)),this.props.changeAudio(this.props.defaults[t.target.value].audio_in.substring(2,this.props.defaults[t.target.value].audio_in.length-1),this.props.defaults[t.target.value].audio_out.substring(2,this.props.defaults[t.target.value].audio_out.length-1)),console.log(this.props.defaults[t.target.value].audio_in),this.setState({value:t.target.value})}},{key:"render",value:function(){console.log("rendered");return Object(p.jsx)("div",{children:Object(p.jsxs)("select",{value:this.state.value,onChange:this.handleChange,children:[Object(p.jsx)("option",{value:"sine",children:" Sine "}),Object(p.jsx)("option",{value:"cantina",children:" Cantina "}),Object(p.jsx)("option",{value:"star_wars",children:" Star Wars "}),Object(p.jsx)("option",{value:"taunt",children:" Taunt "})]})})}}]),a}(n.a.Component));var S=function(){return Object(p.jsx)("div",{children:Object(p.jsxs)("p",{children:["This web-app is an educational tool that creates visualizations of audio files based on the Nyquist-Shannon Theorum. All you gotta do is upload a .wav file below."," "]})})},w=(a(509),a(538),a(510),function(t){Object(j.a)(a,t);var e=Object(b.a)(a);function a(t){return Object(h.a)(this,a),e.call(this,t)}return Object(d.a)(a,[{key:"render",value:function(){var t="processedAudio"+Date.now(),e=new File([this.props.processed],"".concat(t,".wav"),{type:"audio/wav",lastModified:Date.now()});return console.log("audioFile:",e),Object(p.jsxs)("div",{children:[Object(p.jsxs)("div",{class:"originalAudio",children:[Object(p.jsx)("p",{children:"This is the original."}),this.props.audio&&Object(p.jsx)("audio",{controls:!0,src:"data:audio/wav;base64,"+this.props.audio})]}),Object(p.jsxs)("div",{class:"compressedAudio",children:[Object(p.jsx)("p",{children:"This is the processed audio."}),this.props.audio&&Object(p.jsx)("audio",{controls:!0,src:"data:audio/wav;base64,"+this.props.processed})]})]})}}]),a}(n.a.Component)),k=function(t){Object(j.a)(a,t);var e=Object(b.a)(a);function a(t){var s;return Object(h.a)(this,a),(s=e.call(this,t)).state={arrays:[],audio:"",processed:"",defaults:{}},s.changeArrays=s.changeArrays.bind(Object(u.a)(s)),s.changeAudio=s.changeAudio.bind(Object(u.a)(s)),s}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var t=Object(l.a)(r.a.mark((function t(){var e;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=[],t.next=3,g.a.get("http://127.0.0.1:5000/defaults").then((function(t){return t})).then((function(t){e=t.data}));case 3:console.log(e),this.setState({defaults:e}),console.log(this.state.arrays);case 6:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"changeArrays",value:function(t){this.setState({arrays:t}),console.log(this.state.arrays)}},{key:"changeAudio",value:function(t,e){this.setState({audio:t}),this.setState({processed:e})}},{key:"render",value:function(){return Object(p.jsxs)("body",{children:[Object(p.jsx)(S,{}),Object(p.jsx)(y,{changeArrays:this.changeArrays,changeAudio:this.changeAudio}),Object(p.jsx)(m,{changeArrays:this.changeArrays,changeAudio:this.changeAudio,defaults:this.state.defaults}),Object(p.jsx)(A,{data:this.state.arrays}),Object(p.jsx)(w,{audio:this.state.audio,processed:this.state.audio,data:this.state.arrays.data})]})}}]),a}(n.a.Component),R=k,_=(a(511),a(172)),T=a.n(_),C=function(){return Object(p.jsxs)("div",{children:[Object(p.jsxs)("div",{class:"aboutcontainer",children:[Object(p.jsx)("h2",{children:"So what's the deal with the Nyquist Shannon Theorem?"}),Object(p.jsxs)("ul",{children:[Object(p.jsx)("li",{children:"The Nyquist-Shannon Theorem is a technique to create a perfectly lossless representation of a sound wave using far less information."}),Object(p.jsx)("li",{children:"The Nyquist-Shannon Theorem states that as long as your number of sampling points is at least twice as great as the signal\u2019s highest frequency, you can create a wave using only those points without losing any information at all."}),Object(p.jsx)("li",{children:"Our visualizer accepts a large audio file and reduces the amount of points without any audio loss or drop in quality."})]})]}),Object(p.jsx)("div",{class:"aboutvideo",children:Object(p.jsx)(T.a,{url:"https://www.youtube.com/watch?v=FcXZ28BX-xE&t=330s&ab_channel=SteveBrunton"})})]})},M=a(52),F=(a(532),function(){return Object(p.jsxs)("div",{class:"centered",children:[Object(p.jsx)("h1",{children:"Sample Library"}),Object(p.jsx)("div",{class:"center-text",children:Object(p.jsx)("p",{children:"This is a little library of sample .wav files"})}),Object(p.jsxs)("div",{class:"row",children:[Object(p.jsx)("div",{class:"column",children:Object(p.jsxs)("div",{class:"card bg-dark mb-3",children:[Object(p.jsx)("h3",{children:"Cantina"}),Object(p.jsx)("audio",{type:"audio/mpeg",src:"./cantina.wav",controls:!0,autoplay:!0,autostart:"false"}),Object(p.jsx)(M.b,{to:"/cantina.wav",target:"_blank",download:!0,children:"Download"})]})}),Object(p.jsx)("div",{class:"column",children:Object(p.jsxs)("div",{class:"card bg-dark mb-3",children:[Object(p.jsx)("h3",{children:"Star Wars "}),Object(p.jsx)("audio",{type:"audio/mpeg",src:"./StarWars3.wav",controls:!0,autoplay:!0,autostart:"false"}),Object(p.jsx)(M.b,{to:"/StarWars3.wav",target:"_blank",download:!0,children:"Download"})]})}),Object(p.jsx)("div",{class:"column",children:Object(p.jsxs)("div",{class:"card bg-dark mb-3",children:[Object(p.jsx)("h3",{children:"Taunt"}),Object(p.jsx)("audio",{type:"audio/mpeg",src:"./taunt.wav",controls:!0,autoplay:!0}),Object(p.jsx)(M.b,{to:"/taunt.wav",target:"_blank",download:!0,children:"Download"})]})})]})]})}),N=a(10),L=function(){return Object(p.jsxs)(M.a,{children:[Object(p.jsx)(v,{}),Object(p.jsxs)(N.c,{children:[Object(p.jsx)(N.a,{exact:!0,path:"/",children:Object(p.jsx)(R,{})}),Object(p.jsx)(N.a,{path:"/about",children:Object(p.jsx)(C,{})}),Object(p.jsx)(N.a,{path:"/wavlibrary",children:Object(p.jsx)(F,{})})]})]})};c.a.render(Object(p.jsx)(L,{}),document.getElementById("root"))}},[[539,1,2]]]);
//# sourceMappingURL=main.658d17b0.chunk.js.map